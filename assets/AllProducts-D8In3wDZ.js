import{d as w,r as f,i as C,u as $,o as j,j as P,c as r,a as i,e,k as d,n as a,F as g,f as y,g as N,w as q,h as B,t as m,l as D,m as M}from"./index-0U5cSJyf.js";import{a as O}from"./products-Dr5ZcaeI.js";const R={class:"container mt-md-5 mt-3 mb-7"},V={class:"row"},A={class:"col-md-4"},E={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},G={class:"card border-0"},H={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},L={class:"card-body py-0"},T={class:"list-unstyled"},z={class:"col-md-8"},F={class:"row"},S={class:"card border-0 mb-4 position-relative position-relative"},U=["src"],W={class:"card-body p-0"},Y={class:"mb-0 mt-3"},I={class:"card-text mb-0"},J={class:"text-muted"},K={key:1,class:"d-flex justify-content-center mt-3 mb-3"},Q={class:"d-flex justify-content-center"},X={class:"pagination"},Z=["onClick"],ae=w({__name:"AllProducts",setup(ee){const l=f(1),u=f(1),n=C(()=>h.query.category||""),v=f([]),h=$(),x=D(),b=async()=>{try{const s=await O(l.value,n.value);v.value=s.data.products,u.value=s.data.pagination.total_pages,l.value=s.data.pagination.current_page}catch(s){console.error(s)}},c=s=>{x.push({name:"all-product",query:{category:s}})},_=s=>{s>u.value||s<1||(l.value=s,b())};return j(()=>{b()}),P(()=>h.query.category,()=>{b()}),(s,t)=>{const k=B("RouterLink");return i(),r(g,null,[t[11]||(t[11]=e("div",{class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"400px"}},[e("div",{class:"position-absolute",style:{top:"0",bottom:"0",left:"0",right:"0","background-image":"url(https://images.unsplash.com/photo-1656275537622-7837184a0dcc?q=80&w=1350&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)","background-position":"center center","background-size":"cover","background-repeat":"no-repeat",opacity:"0.1"}}),e("h2",{class:"fw-bold"},"產品列表")],-1)),e("div",R,[e("div",V,[e("div",A,[e("div",E,[e("div",G,[t[5]||(t[5]=e("div",{class:"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},[e("div",{class:"d-flex justify-content-between align-items-center pe-1"},[e("h4",{class:"mb-0 ms-2"}," 分類 "),e("i",{class:"fas fa-chevron-down"})])],-1)),e("div",H,[e("div",L,[e("ul",T,[e("li",null,[e("a",{href:"#",class:a(["py-2 d-block text-muted text-decoration-none",{"fw-bolder":n.value===""}]),onClick:t[0]||(t[0]=d(o=>c(""),["prevent"]))},"顯示全部 ",2)]),e("li",null,[e("a",{href:"#",class:a(["py-2 d-block text-muted text-decoration-none",{"fw-bolder":n.value==="客廳植栽"}]),onClick:t[1]||(t[1]=d(o=>c("客廳植栽"),["prevent"]))},"客廳植栽 ",2)]),e("li",null,[e("a",{href:"#",class:a(["py-2 d-block text-muted text-decoration-none",{"fw-bolder":n.value==="窗邊植栽"}]),onClick:t[2]||(t[2]=d(o=>c("窗邊植栽"),["prevent"]))},"窗邊植栽 ",2)]),e("li",null,[e("a",{href:"#",class:a(["py-2 d-block text-muted text-decoration-none",{"fw-bolder":n.value==="書房植栽"}]),onClick:t[3]||(t[3]=d(o=>c("書房植栽"),["prevent"]))},"書房植栽 ",2)]),e("li",null,[e("a",{href:"#",class:a(["py-2 d-block text-muted text-decoration-none",{"fw-bolder":n.value==="餐桌植栽"}]),onClick:t[4]||(t[4]=d(o=>c("餐桌植栽"),["prevent"]))},"餐桌植栽 ",2)])])])])])])]),e("div",z,[e("div",F,[v.value.length>0?(i(!0),r(g,{key:0},y(v.value,o=>(i(),r("div",{class:"col-md-6",key:o.id},[N(k,{to:{name:"product-detail",params:{id:o.id}},class:"text-decoration-none"},{default:q(()=>[e("div",S,[e("img",{style:{height:"320px"},src:o.imageUrl,class:"card-img-top object-fit-cover rounded-0",alt:"product image"},null,8,U),t[7]||(t[7]=e("a",{href:"#",class:"text-dark"},[e("i",{class:"far fa-heart position-absolute",style:{right:"16px",top:"16px"}})],-1)),e("div",W,[e("h4",Y,m(o.title),1),e("p",I,[M("NT$"+m(o.price)+" ",1),e("span",J,[e("del",null,"NT$"+m(o.origin_price),1)])]),t[6]||(t[6]=e("p",{class:"text-muted mt-3"},null,-1))])])]),_:2},1032,["to"])]))),128)):(i(),r("div",K,[...t[8]||(t[8]=[e("h6",null,"該項目暫無產品",-1)])]))]),e("nav",Q,[e("ul",X,[e("li",{class:a(["page-item",{disabled:l.value===1}])},[...t[9]||(t[9]=[e("a",{class:"page-link",href:"#","aria-label":"Previous"},[e("span",{"aria-hidden":"true"},"«")],-1)])],2),(i(!0),r(g,null,y(u.value,(o,p)=>(i(),r("li",{class:a(["page-item",{active:l.value===p+1}]),key:p},[e("a",{class:"page-link",onClick:d(te=>_(p+1),["prevent"])},m(p+1),9,Z)],2))),128)),e("li",{class:a(["page-item",{disabled:l.value===u.value}])},[...t[10]||(t[10]=[e("a",{class:"page-link",href:"#","aria-label":"Next"},[e("span",{"aria-hidden":"true"},"»")],-1)])],2)])])])])])],64)}}});export{ae as default};
